# Modifying the Configuration File<a name="EN-US_TOPIC_0229622738"></a>

The main configuration file of the DNF is /etc/dnf/dnf.conf. The  **main**  part in the file stores the global settings of the DNF. You can add one or more  **repository**  sections to the file to set the location of the software source to be installed.

In addition, the /etc/yum.repos.d directory stores one or more repo source files, which define different repositories.

You can configure a software source by either directly configuring the /etc/dnf/dnf.conf file or adding the .repo file to the /etc/yum.repos.d directory.

## Modify the main Part<a name="en-us_topic_0151921080_se5de3a22d49e406facb880f28d61d2b4"></a>

The /etc/dnf/dnf.conf file contains the  **main**  part. The following is an example of the configuration file:

```
[main]
gpgcheck=0
installonly_limit=3
clean_requirements_on_remove=True
best=True
```

Common options are as follows:

**Table  1**  main parameter description

<a name="en-us_topic_0151921080_t2716a40f69b24a989ec3c0b6f278cb5d"></a>
<table><thead align="left"><tr id="en-us_topic_0151921080_re437b39f0a1647ff864353c080184c45"><th class="cellrowborder" valign="top" width="31.580000000000002%" id="mcps1.2.3.1.1"><p id="en-us_topic_0151921080_a228122f6ac30401d8237a59bf9535ad1"><a name="en-us_topic_0151921080_a228122f6ac30401d8237a59bf9535ad1"></a><a name="en-us_topic_0151921080_a228122f6ac30401d8237a59bf9535ad1"></a>Parameter</p>
</th>
<th class="cellrowborder" valign="top" width="68.42%" id="mcps1.2.3.1.2"><p id="en-us_topic_0151921080_ae291ac87cc3c4ce1bd23cfbd2f989d09"><a name="en-us_topic_0151921080_ae291ac87cc3c4ce1bd23cfbd2f989d09"></a><a name="en-us_topic_0151921080_ae291ac87cc3c4ce1bd23cfbd2f989d09"></a>Description</p>
</th>
</tr>
</thead>
<tbody><tr id="en-us_topic_0151921080_raeb774ff205e457e818067d51a26a39a"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_aca09cf10eb084bee89cf1f5fe5f35fac"><a name="en-us_topic_0151921080_aca09cf10eb084bee89cf1f5fe5f35fac"></a><a name="en-us_topic_0151921080_aca09cf10eb084bee89cf1f5fe5f35fac"></a>cachedir</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a2151a724f4ff4a468f77b15eaec8ed3a"><a name="en-us_topic_0151921080_a2151a724f4ff4a468f77b15eaec8ed3a"></a><a name="en-us_topic_0151921080_a2151a724f4ff4a468f77b15eaec8ed3a"></a>Cache directory for storing RPM packages and database files.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_r22f24b5ffe0e4bc3be64ef01afc49c6c"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_a33e3b7427b024df7922a3acdc7d2caf7"><a name="en-us_topic_0151921080_a33e3b7427b024df7922a3acdc7d2caf7"></a><a name="en-us_topic_0151921080_a33e3b7427b024df7922a3acdc7d2caf7"></a>keepcache</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a16334e4f6fec4e79872c4a8b3a31d772"><a name="en-us_topic_0151921080_a16334e4f6fec4e79872c4a8b3a31d772"></a><a name="en-us_topic_0151921080_a16334e4f6fec4e79872c4a8b3a31d772"></a>The options are 1 and 0, indicating whether to cache the RPM packages and header files that have been successfully installed. The default value is 0, indicating that the RPM packages and header files are not cached.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_rc9c76f44bb7840b8b61a46b0854538b3"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_af751af3ed4cb4a189f209994d274dfe0"><a name="en-us_topic_0151921080_af751af3ed4cb4a189f209994d274dfe0"></a><a name="en-us_topic_0151921080_af751af3ed4cb4a189f209994d274dfe0"></a>debuglevel</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a118e43ebde57468eb40f0af51b86d751"><a name="en-us_topic_0151921080_a118e43ebde57468eb40f0af51b86d751"></a><a name="en-us_topic_0151921080_a118e43ebde57468eb40f0af51b86d751"></a>Sets debugging information generated by the DNF. The value ranges from 0 to 10. A larger value indicates more detailed debugging information. The default value is 2. The value 0 indicates that the debug information is not displayed.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_rc12e82ae45524ba8aea5248e154a832a"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_adc7f634b391d4726808fe0b3354f969d"><a name="en-us_topic_0151921080_adc7f634b391d4726808fe0b3354f969d"></a><a name="en-us_topic_0151921080_adc7f634b391d4726808fe0b3354f969d"></a>clean_requirements_on_remove</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_ae9df2a3423504b4da46111a6e1162352"><a name="en-us_topic_0151921080_ae9df2a3423504b4da46111a6e1162352"></a><a name="en-us_topic_0151921080_ae9df2a3423504b4da46111a6e1162352"></a>Deletes the dependency items that are no longer used during DNF removal. If the software package is installed through the DNF instead of the explicit user request, the software package can be deleted only through clean_requirements_on_remove, that is, the software package is introduced as a dependency item. The default value is<strong id="b156181810165711"><a name="b156181810165711"></a><a name="b156181810165711"></a> True</strong>.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_r096417e2f0524024b93c722dab0113cd"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_p11584914871"><a name="en-us_topic_0151921080_p11584914871"></a><a name="en-us_topic_0151921080_p11584914871"></a>best</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a406b4dd56fb7483ea43c7231aa2a7499"><a name="en-us_topic_0151921080_a406b4dd56fb7483ea43c7231aa2a7499"></a><a name="en-us_topic_0151921080_a406b4dd56fb7483ea43c7231aa2a7499"></a>The system always attempts to install the latest version of the upgrade package. If the latest version cannot be installed, the system displays the cause and stops the installation. The default value is <strong id="b316743165712"><a name="b316743165712"></a><a name="b316743165712"></a>True</strong>.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_r447c1e6abe344a719dd9e8b109c799fa"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_a6befc61e1a58499b96ecdcc96b0489d4"><a name="en-us_topic_0151921080_a6befc61e1a58499b96ecdcc96b0489d4"></a><a name="en-us_topic_0151921080_a6befc61e1a58499b96ecdcc96b0489d4"></a>obsoletes</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a581b6f9d8f9b4ad7b62734f86f6d556e"><a name="en-us_topic_0151921080_a581b6f9d8f9b4ad7b62734f86f6d556e"></a><a name="en-us_topic_0151921080_a581b6f9d8f9b4ad7b62734f86f6d556e"></a>The options are <strong id="b1233155595718"><a name="b1233155595718"></a><a name="b1233155595718"></a>1</strong> and <strong id="b97439577575"><a name="b97439577575"></a><a name="b97439577575"></a>0</strong>, indicating whether to allow the update of outdated RPM packages. The default value is 1, indicating that the update is allowed.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_r30106389463d4ba0bf505a6b78034b23"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_a51da18882a5b41ff8a5a328f73d186dd"><a name="en-us_topic_0151921080_a51da18882a5b41ff8a5a328f73d186dd"></a><a name="en-us_topic_0151921080_a51da18882a5b41ff8a5a328f73d186dd"></a>gpgcheck</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_addb19525458847cd90f1d1390b966701"><a name="en-us_topic_0151921080_addb19525458847cd90f1d1390b966701"></a><a name="en-us_topic_0151921080_addb19525458847cd90f1d1390b966701"></a>The options are <strong id="b12591163015816"><a name="b12591163015816"></a><a name="b12591163015816"></a>1</strong> and <strong id="b1614713618582"><a name="b1614713618582"></a><a name="b1614713618582"></a>0</strong>, indicating whether to perform GPG verification. The default value is <strong id="b14552491581"><a name="b14552491581"></a><a name="b14552491581"></a>1</strong>, indicating that verification is required.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_ra0a9a346638c4a1bb007bbbe59eaeea7"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_af01afb28195145988ff4ba218bfad29b"><a name="en-us_topic_0151921080_af01afb28195145988ff4ba218bfad29b"></a><a name="en-us_topic_0151921080_af01afb28195145988ff4ba218bfad29b"></a>plugins</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a093f5fa9735a4e27a6bdbd2e1d59faee"><a name="en-us_topic_0151921080_a093f5fa9735a4e27a6bdbd2e1d59faee"></a><a name="en-us_topic_0151921080_a093f5fa9735a4e27a6bdbd2e1d59faee"></a>The options are <strong id="b198826584589"><a name="b198826584589"></a><a name="b198826584589"></a>1</strong> and <strong id="b207705014591"><a name="b207705014591"></a><a name="b207705014591"></a>0</strong>, indicating that the DNF plug-in is enabled or disabled. The default value is <strong id="b1835715503011"><a name="b1835715503011"></a><a name="b1835715503011"></a>1</strong>, indicating that the DNF plug-in is enabled.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_r1fea2c77ef6e4c63a6ca076666eb8651"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_a66ecbecaa5494510b6b1304af3e4da43"><a name="en-us_topic_0151921080_a66ecbecaa5494510b6b1304af3e4da43"></a><a name="en-us_topic_0151921080_a66ecbecaa5494510b6b1304af3e4da43"></a>installonly_limit</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_aab5e9fba116044e4807c04ae55297cd1"><a name="en-us_topic_0151921080_aab5e9fba116044e4807c04ae55297cd1"></a><a name="en-us_topic_0151921080_aab5e9fba116044e4807c04ae55297cd1"></a>Sets the number of packages that can be installed at the same time by running the <strong id="b16680340219"><a name="b16680340219"></a><a name="b16680340219"></a>installonlypkgs</strong> command. The default value is 3. You are advised not to decrease the value.</p>
</td>
</tr>
</tbody>
</table>

## Modify the repository Part<a name="en-us_topic_0151921080_sa94775dab64644bd8aa8e23415ff54f7"></a>

The repository part allows you to customize software source repositories. The name of each repository must be unique. Otherwise, conflicts may occur. The following is a minimum configuration example of the \[repository\] section:

```
[repository]
name=repository_name
baseurl=repository_url
```

Common options are as follows:

>![](public_sys-resources/icon-note.gif) **NOTE:**   
>openEuler provides an online image source at  [https://repo.openeuler.org/](https://repo.openeuler.org/). For example, if the openEuler 20.03 version is aarch64, the  **baseurl**  can be set to  [https://repo.openeuler.org/openEuler-20.03-LTS/OS/aarch64/](https://repo.openeuler.org/openEuler-20.03-LTS/OS/aarch64/).  

**Table  2**  repository parameter description

<a name="en-us_topic_0151921080_t2df9dceb0ff64b2f8db8ec5cd779792a"></a>
<table><thead align="left"><tr id="en-us_topic_0151921080_r9162be1b9c5b451f8a7ff1466f5b8430"><th class="cellrowborder" valign="top" width="31.580000000000002%" id="mcps1.2.3.1.1"><p id="en-us_topic_0151921080_af95a9e18156646249707de3f94ac1b3c"><a name="en-us_topic_0151921080_af95a9e18156646249707de3f94ac1b3c"></a><a name="en-us_topic_0151921080_af95a9e18156646249707de3f94ac1b3c"></a>Parameter</p>
</th>
<th class="cellrowborder" valign="top" width="68.42%" id="mcps1.2.3.1.2"><p id="en-us_topic_0151921080_a8cc2e976bc794e86a279d3bae8f901c4"><a name="en-us_topic_0151921080_a8cc2e976bc794e86a279d3bae8f901c4"></a><a name="en-us_topic_0151921080_a8cc2e976bc794e86a279d3bae8f901c4"></a>Description</p>
</th>
</tr>
</thead>
<tbody><tr id="en-us_topic_0151921080_rbfa3a638cbc24c73ab13529149b75bb1"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_a4a0b069bbf624b09be3bdd08567c0445"><a name="en-us_topic_0151921080_a4a0b069bbf624b09be3bdd08567c0445"></a><a name="en-us_topic_0151921080_a4a0b069bbf624b09be3bdd08567c0445"></a>name=repository_name</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_a21ddbd0f48924c1eb7475cc34de2dc32"><a name="en-us_topic_0151921080_a21ddbd0f48924c1eb7475cc34de2dc32"></a><a name="en-us_topic_0151921080_a21ddbd0f48924c1eb7475cc34de2dc32"></a>Name string of a software repository.</p>
</td>
</tr>
<tr id="en-us_topic_0151921080_r00b7f4067dc94647941026719cd6f293"><td class="cellrowborder" valign="top" width="31.580000000000002%" headers="mcps1.2.3.1.1 "><p id="en-us_topic_0151921080_af53cdfe5f204471f956cdab7c466fa40"><a name="en-us_topic_0151921080_af53cdfe5f204471f956cdab7c466fa40"></a><a name="en-us_topic_0151921080_af53cdfe5f204471f956cdab7c466fa40"></a>baseurl=repository_url</p>
</td>
<td class="cellrowborder" valign="top" width="68.42%" headers="mcps1.2.3.1.2 "><p id="en-us_topic_0151921080_aa17154cd42524a1a8075e6414160a153"><a name="en-us_topic_0151921080_aa17154cd42524a1a8075e6414160a153"></a><a name="en-us_topic_0151921080_aa17154cd42524a1a8075e6414160a153"></a>Address of the software repository.</p>
<a name="en-us_topic_0151921080_ued0c249b843549a79bfa68170539c91e"></a><a name="en-us_topic_0151921080_ued0c249b843549a79bfa68170539c91e"></a><ul id="en-us_topic_0151921080_ued0c249b843549a79bfa68170539c91e"><li>Network location using the HTTP protocol, for example, http://path/to/repo</li><li>Network location using the FTP protocol, for example, ftp://path/to/repo</li><li>Local path: for example, file:///path/to/local/repo</li></ul>
</td>
</tr>
</tbody>
</table>

## Displays the Current Configuration<a name="en-us_topic_0151921080_s23585ce056b94d4488c5f3acac04c4cf"></a>

-   To display the current configuration information, run the following command:

    ```
    dnf config-manager --dump
    ```

-   To display the configuration of a software source, query the repo id:

    ```
    dnf repolist
    ```

    Run the following command to display the software source configuration of the corresponding ID. In the command,  _repository_  indicates the repository ID.

    ```
    dnf config-manager --dump repository
    ```

-   You can also use a global regular expression to display all matching configurations.

    ```
    dnf config-manager --dump glob_expression
    ```


