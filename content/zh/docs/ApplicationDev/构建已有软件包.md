# 构建已有软件包<a name="ZH-CN_TOPIC_0229243723"></a>

>![](public_sys-resources/icon-note.gif) **说明：**   
>-   若为首次使用，请首先在OBS网页注册个人账号。  
>-   该方法需要拷贝修改后的代码，因此，请在执行下述操作前完成代码修改并提交到正确的代码路径。代码路径会在\_service文件中指定。  

使用OBS网页端，修改已有软件的源代码，并将修改后的源文件构建为RPM软件包的操作方法如下：

1.  登录OBS界面，地址为：[http://117.78.1.88/](http://117.78.1.88/)。
2.  单击“All Projects”进入所有工程页面。
3.  单击需要修改的对应工程，进入该工程的详情页面，例如单击“openEuler:Mainline”。
4.  在工程详情页面的搜索框查找需要修改的软件包，然后单击该软件包包名，进入该软件包详请页面。
5.  单击“Branch package”，在弹出的确认页面单击“Accept”确认创建子工程，如[图1](#fig77646143214)所示。

    **图 1**  Branch Confirmation页面<a name="fig77646143214"></a>  
    ![](figures/Branch-Confirmation页面.png "Branch-Confirmation页面")

6.  单击“\_service”文件进入编辑页面，修改\_service内容后点击“Save”保存该文件。\_service内容示例如下，其中_userCodeURL、__userCommitID_分别为用户代码托管路径、用户代码提交版本号或分支。

    ```
    <services>
        <service name="tar_scm_kernel">
            <param name="scm">git</param>
            <param name="url">userCodeURL</param>
    	<param name="revision">userCommitID</param>
        </service>
        <service name="recompress">
    	<param name="compression">bz2</param>
    	<param name="file">*.tar</param>
         </service>
    </services>
    ```

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >单击“Save”保存\_service文件后，OBS服务会根据\_service文件描述，从指定的url下载源码到OBS对应工程的软件目录下并替换原有文件，例如上述例子中 “openEuler:Mainline”工程的kernel目录。  

7.  文件拷贝并替换完成后，OBS会自动开始构建RPM软件包。等待构建完成，并查看右侧状态栏的构建状态。
    -   succeeded：构建成功。用户可以单击“succeeded”查看构建日志，如[图2](#fig10319114217337)所示。

        **图 2**  succeeded的页面<a name="fig10319114217337"></a>  
        ![](figures/succeeded的页面.png "succeeded的页面")

    -   failed：构建失败。请单击“failed”查看错误日志进行问题定位后重新构建。
    -   unresolvable：未进行构建，可能由于缺失依赖。
    -   disabled：构建被手动关闭或正在排队构建。
    -   excluded：构建被禁止，可能由于缺少spec文件或者spec文件中禁止了目标架构的编译。


