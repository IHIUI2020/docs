# 创建角色<a name="ZH-CN_TOPIC_0230590561"></a>

可以使用CREATE ROLE语句或createuser来创建角色。createuser是对CREATE ROLE命令的封装，需要在shell界面执行，而不是在数据库界面。

```
CREATE ROLE rolename [ [ WITH ] option [ ... ] ];
```

```
createuser rolename
```

其中：

-   rolename：角色名。
-   option为参数选项，常用的有：
    -   SUPERUSER | NOSUPERUSER：决定一个新角色是否为"超级用户"，若未指定，则默认为NOSUPERUSER，即不是超级用户。
    -   CREATEDB | NOCREATEDB：定义一个角色是否能创建数据库，若未指定，则默认为NOCREATEDB，即不能创建数据库。
    -   CREATEROLE | NOCREATEROLE：决定一个角色是否可以创建新角色，若未指定，则默认为NOCREATEROLE，即不能创建新角色。
    -   INHERIT | NOINHERIT：决定一个角色是否"继承"它所在组的角色的权限。一个带有 INHERIT 属性的角色可以自动使用已经赋与它直接或间接所在组的任何权限。若未指定，则默认为INHERIT。
    -   LOGIN | NOLOGIN：决定一个角色是否可以登录，一个拥有LOGIN属性的角色可以认为是一个用户，若无此属性的角色可以用于管理数据库权限，但是并不是用户，若未指定，则默认为NOLOGIN。但若创建角色是使用的是CREATE USER而不是CREATE ROLE，则默认是LOGIN属性。
    -   \[ ENCRYPTED | UNENCRYPTED \] PASSWORD 'password'：设置角色的密码，密码只对那些拥有 LOGIN 属性的角色有意义。ENCRYPTED | UNENCRYPTED表示是否对密码进行加密，若未指定，则默认为ENCRYPTED，即加密。
    -   VALID UNTIL 'timestamp'：角色的密码失效的时间戳，若为指定，则表示密码永久有效。
    -   IN ROLE rolename1：列出一个或多个现有的角色，新角色rolename将立即加入这些角色，成为rolename1的成员。
    -   ROLE rolename2_：_列出一个或多个现有的角色，它们将自动添加为新角色rolename的成员，即新角色为"组"。


要使用这条命令，必须拥有 CREATEROLE 权限或者是数据库超级用户。

## 示例<a name="section207605920321"></a>

\#创建一个可以登录的角色roleexample1。

```
postgres=# CREATE ROLE roleexample1 LOGIN;
```

\#创建一个密码为123456的角色roleexample2。

```
postgres=# CREATE ROLE roleexample2 WITH LOGIN PASSWORD '123456';
```

\#创建角色名为roleexample3的角色。。

```
[postgres@localhost ~]$ createuser roleexample3
```

