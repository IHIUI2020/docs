# 删除用户权限<a name="ZH-CN_TOPIC_0230590566"></a>

可以使用REVOKE语句来撤销以前赋予一个或多个角色的权限。

撤销角色对表的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { { SELECT | INSERT | UPDATE | DELETE | REFERENCES | TRIGGER } [,...] | ALL [ PRIVILEGES ] } ON [ TABLE ] tablename [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...]
```

撤销角色对序列的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { { USAGE | SELECT | UPDATE } [,...] | ALL [ PRIVILEGES ] } ON SEQUENCE sequencename [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...] [ CASCADE | RESTRICT ]  
```

撤销角色对数据库的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { { CREATE | CONNECT | TEMPORARY | TEMP } [,...] | ALL [ PRIVILEGES ] } ON DATABASE databasename [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...] [ CASCADE | RESTRICT ] 
```

撤销角色对函数的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { EXECUTE | ALL [ PRIVILEGES ] } ON FUNCTION funcname ( [ [ argmode ] [ argname ] argtype [, ...] ] ) [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...] [ CASCADE | RESTRICT ] 
```

撤销角色对过程语言的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { USAGE | ALL [ PRIVILEGES ] } ON LANGUAGE langname [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...] [ CASCADE | RESTRICT ] 
```

撤销角色对模式的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { { CREATE | USAGE } [,...] | ALL [ PRIVILEGES ] } ON SCHEMA schemaname [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...] [ CASCADE | RESTRICT ]  
```

撤销角色对表空间的操作权限：

```
REVOKE [ GRANT OPTION FOR ] { CREATE | ALL [ PRIVILEGES ] } ON TABLESPACE tablespacename [, ...] FROM { rolename | GROUP groupname | PUBLIC } [, ...] [ CASCADE | RESTRICT ] 
```

删除rolename2的rolename1的成员关系：

```
REVOKE [ ADMIN OPTION FOR ] rolename1 [, ...] FROM rolename2 [, ...] [ CASCADE | RESTRICT ]
```

其中：

-   GRANT OPTION FOR：表示只是撤销对该权限的授权的权力，而不是撤销该权限本身。
-   SELECT、INSERT、UPDATE、DELETE、REFERENCES、TRIGGER、USAGE、CREATE、CONNECT、TEMPORARY、TEMP、EXECUTE、ALL \[ PRIVILEGES \]：用户的操作权限，ALL \[ PRIVILEGES \]表示所有的权限，PRIVILEGES关键字在 PostgreSQL里是可选的，但是严格的SQL 要求有这个关键字。
-   ON字句：用于指定撤销权限的对象。
-   tablename：表名。
-   FROM字句：用来指定被撤销权限的角色。
-   rolename、rolename1、rolename2：角色名。
-   groupname：角色组名。
-   PUBLIC：表示撤销隐含定义的、拥有所有角色的组，但并不意味着所有角色都失去了权限，那些直接得到的权限以及通过一个组得到的权限仍然有效。
-   sequencename：序列名。
-   CASCADE：撤销所有依赖性权限。
-   RESTRICT：不撤销所有依赖性权限。
-   databasename：数据库名。
-   funcname \( \[ \[ argmode \] \[ argname \] argtype \[, ...\] \] \)：函数名及其参数。
-   langname：过程语言名。
-   schemaname：模式名。
-   tablespacename：表空间名。
-   ADMIN OPTION FOR：表示传递的授权不会自动收回。

## 示例<a name="section207605920321"></a>

\#对userexample授予数据库database1的CREATE权限。

```
# GRANT CREATE ON DATABASE database1 TO userexample; 
```

\#对所有用户授予表table1的所有权限。

```
# GRANT ALL PRIVILEGES ON TABLE table1 TO PUBLIC; 
```

