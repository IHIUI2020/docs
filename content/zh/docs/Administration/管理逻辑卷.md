# 管理逻辑卷<a name="ZH-CN_TOPIC_0230942069"></a>

## 创建逻辑卷<a name="section1621605611425"></a>

可通过lvcreate命令创建逻辑卷。

```
lvcreate [option] vgname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -L：指定逻辑卷的大小，单位为“kKmMgGtT”字节。
    -   -l：指定逻辑卷的大小（LE数）。
    -   -n：指定要创建的逻辑卷名称。
    -   -s：创建快照。

-   vgname：要创建逻辑卷的卷组名称。

示例1：在卷组vg1中创建10G大小的逻辑卷。

```
lvcreate -L 10G vg1
```

示例1：在卷组vg1中创建200M的逻辑卷，并命名为lv1。

```
lvcreate -L 200M -n lv1 vg1
```

## 查看逻辑卷<a name="section1288685245617"></a>

可通过lvdisplay命令查看逻辑卷的信息，包括逻辑卷空间大小、读写状态和快照信息等属性。

```
lvdisplay [option] [lvname]
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -v：显示LE到PE的映射

-   lvname：指定要显示属性的逻辑卷对应的设备文件。如果省略，则显示所有的逻辑卷属性。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >逻辑卷对应的设备文件保存在卷组目录下，例如：在卷组vg1上创建一个逻辑卷lv1，则此逻辑卷对应的设备文件为/dev/vg1/lv1。  


示例：显示逻辑卷lv1的基本信息。

```
lvdisplay /dev/vg1/lv1
```

## 调整逻辑卷大小<a name="section134528410519"></a>

可通过lvresize命令调整LVM逻辑卷的空间大小，可以增大空间和缩小空间。使用lvresize命令调整逻辑卷空间大小和缩小空间时需要谨慎，因为有可能导致数据丢失。

```
lvresize [option] vgname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -L：指定逻辑卷的大小，单位为“kKmMgGtT”字节。
    -   -l：指定逻辑卷的大小（LE数）。
    -   -f：强制调整逻辑卷大小，不需要用户确认。

-   lvname：指定要调整的逻辑卷名称。

示例1：为逻辑卷/dev/vg1/lv1增加200M空间。

```
lvresize -L +200 /dev/vg1/lv1
```

示例2：为逻辑卷/dev/vg1/lv1减少200M空间。

```
lvresize -L -200 /dev/vg1/lv1
```

## 扩展逻辑卷<a name="section9939647191712"></a>

可通过lvextend命令动态在线扩展逻辑卷的空间大小，而不中断应用程序对逻辑卷的访问。

```
lvextend [option] lvname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -L：指定逻辑卷的大小，单位为“kKmMgGtT”字节。
    -   -l：指定逻辑卷的大小（LE数）。
    -   -f：强制调整逻辑卷大小，不需要用户确认。

-   lvname：指定要扩展空间的逻辑卷的设备文件。

示例：为逻辑卷/dev/vg1/lv1增加100M空间。

```
lvextend -L +100M /dev/vg1/lv1
```

## 收缩逻辑卷<a name="section187401776325"></a>

可通过lvreduce命令减少逻辑卷占用的空间大小。使用lvreduce命令收缩逻辑卷的空间大小有可能会删除逻辑卷上已有的数据，所以在操作前必须进行确认。

```
lvreduce [option] lvname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -L：指定逻辑卷的大小，单位为“kKmMgGtT”字节。
    -   -l：指定逻辑卷的大小（LE数）。
    -   -f：强制调整逻辑卷大小，不需要用户确认。

-   lvname：指定要扩展空间的逻辑卷的设备文件。

示例：将逻辑卷/dev/vg1/lv1的空间减少100M。

```
lvreduce -L -100M /dev/vg1/lv1
```

## 删除逻辑卷<a name="section8655545125911"></a>

可通过lvremove命令删除逻辑卷。如果逻辑卷已经使用mount命令加载，则不能使用lvremove命令删除。必须使用umount命令卸载后，逻辑卷方可被删除。

```
lvremove [option] vgname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -f：强制删除逻辑卷，不需要用户确认。

-   vgname：指定要删除的逻辑卷。

示例：删除逻辑卷/dev/vg1/lv1。

```
lvremove /dev/vg1/lv1
```

