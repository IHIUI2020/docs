# 恢复数据库<a name="ZH-CN_TOPIC_0230590573"></a>

可以使用psql命令恢复数据库。

```
psql [option]... [databasename [username]] < infile
```

其中：

-   databasename：数据库名称。如果没有声明这个参数，那么使用环境变量 PGDATABASE 。如果那个环境变量也没声明，那么使用发起连接的用户名。
-   username：用户名。
-   infile：pg\_dump命令中的outfile参数。
-   option：psql命令参数选项，多个参数之间可以使用空格分隔。常用的psql命令参数选项如下：
    -   -f filename，--file=filename：指输出到指定的文件。如果忽略，则使用标准输出。
    -   -d，--dbname=databsetaname：指定转储的数据库。
    -   -h，--host=hostname：指定主机名。
    -   -p，--port=portnumber：指定端口。
    -   -U，--username=username：指定连接的用户名。
    -   -W，--password：强制口令提示（自动）。


psql命令不会自动创建databasename数据库，所以在执行psql恢复数据库之前需要先创建databasename数据库。

## 示例<a name="section207605920321"></a>

\#将db1.sql脚本文件导入到主机为192.168.202.144，端口为3306，postgres用户下newdb数据库中。

```
$ createdb newdb
$ psql -h 192.168.202.144 -p 3306 -U postgres -W -d newdb < db1.sql
```

