# 创建并挂载文件系统<a name="ZH-CN_TOPIC_0230915935"></a>

在创建完逻辑卷之后，需要在逻辑卷之上创建文件系统并挂载文件系统到相应目录下。

## 创建文件系统<a name="section62916319408"></a>

可通过mkfs命令创建文件系统。

```
mkfs [option] lvname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -t：指定创建的linux系统类型，如ext2，ext3，ext4等等，默认类型为ext2。

-   lvname：指定要创建的文件系统对应的逻辑卷设备文件名。

示例：在逻辑卷/dev/vg1/lv1上创建ext4文件系统。

```
mkfs -t ext4 /dev/vg1/lv1
```

## 手动挂载文件系统<a name="section7870195464118"></a>

手动挂载的文件系统仅在当时有效，一旦操作系统重启则会不存在。

可通过mount命令挂载文件系统。

```
mount lvname mntpath
```

其中：

-   lvname：指定要挂载文件系统的逻辑卷设备文件名。
-   mntpath：挂载路径。

示例：将逻辑卷/dev/vg1/lv1挂载到/mnt/data目录。

```
mount /dev/vg1/lv1 /mnt/data
```

## 自动挂载文件系统<a name="section118432399159"></a>

手动挂载的文件系统在操作系统重启之后会不存在，需要重新手动挂载文件系统。但若在手动挂载文件系统后进行如下设置，可以实现操作系统重启后文件系统自动挂载文件系统。

1.  <a name="li65701520154311"></a>执行blkid命令查询逻辑卷的UUID，逻辑卷以/dev/vg1/lv1为例。

    ```
    blkid /dev/vg1/lv1
    ```

    查看打印信息，打印信息中包含如下内容，其中  _uuidnumber_  是一串数字，为UUID，  _fstype_  为文件系统。

    /dev/vg1/lv1: UUID="  _uuidnumber_  " TYPE="  _fstype_  "

2.  执行**vi /etc/fstab**命令编辑fstab文件，并在最后加上如下内容。

    ```
    UUID=uuidnumber  mntpath                   fstype    defaults        0 0
    ```

    内容说明如下：

    -   第一列：UUID，此处填写[1](#li65701520154311)查询的  _uuidnumber_  。
    -   第二列：文件系统的挂载目录  _mntpath_  。
    -   第三列：文件系统的文件格式_，_此处填写[1](#li65701520154311)查询的  _fstype_  。
    -   第四列：挂载选项，此处以“defaults”为例；
    -   第五列：备份选项，设置为“1”时，系统自动对该文件系统进行备份；设置为“0”时，不进行备份。此处以“0”为例；
    -   第六列：扫描选项，设置为“1”时，系统在启动时自动对该文件系统进行扫描；设置为“0”时，不进行扫描。此处以“0”为例。

3.  验证自动挂载功能。
    1.  执行umount命令卸载文件系统，逻辑卷以/dev/vg1/lv1为例。

        ```
        umount /dev/vg1/lv1
        ```

    2.  执行如下命令，将/etc/fstab文件所有内容重新加载。

        ```
        mount -a
        ```

    3.  执行如下命令，查询文件系统挂载信息，挂载目录以/mnt/data为例。

        ```
        mount | grep /mnt/data
        ```

        查看打印信息，若信息中包含如下信息表示自动挂载功能生效。

        /dev/vg1/lv1 on /mnt/data



