# 管理卷组<a name="ZH-CN_TOPIC_0230942068"></a>

## 创建卷组<a name="section1621605611425"></a>

可通过vgcreate命令创建卷组。

```
vgcreate [option] vgname pvname ...
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -l：卷组上允许创建的最大逻辑卷数。
    -   -p：卷组中允许添加的最大物理卷数。
    -   -s：卷组上的物理卷的PE大小。

-   vgname：要创建的卷组名称。
-   pvname：要加入到卷组中的物理卷名称。

示例：创建卷组 vg1，并且将物理卷/dev/sdb和/dev/sdc添加到卷组中。

```
vgcreate vg1 /dev/sdb /dev/sdc  
```

## 查看卷组<a name="section1288685245617"></a>

可通过vgdisplay命令查看卷组的信息。

```
vgdisplay [option] [vgname]
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -s：以短格式输出。
    -   -A：仅显示活动卷组的属性。

-   vgname：指定要查看的卷组名称。如果不指定卷组名称，则显示所有卷组的信息。

示例：显示卷组vg1的基本信息。

```
vgdisplay vg1
```

## 修改卷组属性<a name="section134528410519"></a>

可通过vgchange命令修改卷组的属性。

```
vgchange [option] vgname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -a：设置卷组的活动状态。

-   vgname：指定要修改属性的卷组名称。

示例：将卷组vg1状态修改为活动。

```
vgchange -ay vg1
```

## 扩展卷组<a name="section9939647191712"></a>

可通过vgextend命令动态扩展卷组。它通过向卷组中添加物理卷来增加卷组的容量。

```
vgextend [option] vgname pvname ...
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -d：调试模式。
    -   -t：仅测试。

-   vgname：要扩展容量的卷组名称。
-   pvname：要加入到卷组中的物理卷名称。

示例：将卷组vg1中添加物理卷/dev/sdb。

```
vgextend vg1 /dev/sdb
```

## 收缩卷组<a name="section187401776325"></a>

可通过vgreduce命令删除卷组中的物理卷来减少卷组容量。不能删除卷组中剩余的最后一个物理卷。

```
vgreduce [option] vgname pvname ...
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -a：如果命令行中没有指定要删除的物理卷，则删除所有的空物理卷。
    -   --removemissing：删除卷组中丢失的物理卷，使卷组恢复正常状态。

-   vgname：要收缩容量的卷组名称。
-   pvname：要从卷组中删除的物理卷名称。

示例：从卷组vg1中移除物理卷/dev/sdb2。

```
vgreduce vg1 /dev/sdb2
```

## 删除卷组<a name="section8655545125911"></a>

可通过vgremove命令删除卷组。

```
vgremove [option] vgname
```

其中：

-   option：命令参数选项。常用的参数选项有：
    -   -f：强制删除卷组，不需要用户确认。

-   vgname：指定要删除的卷组名称。

示例：删除卷组vg1。

```
vgremove vg1
```

